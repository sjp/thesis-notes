<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Working with the gridSVG Coordinate System</title>
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Inconsolata" media="screen, print">
    <link rel="stylesheet" type="text/css" href="normalize.css" media="screen,print,projection">
    <link rel="stylesheet" type="text/css" href="main.css" media="screen,print,projection">
  </head>
  <body>
    <figure>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400px" height="400px" viewbox="0 0 504 504" version="1.1">
  <g transform="translate(0, 504) scale(1, -1)">
    <g id="gridSVG" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="none" stroke-width="1px" font-size="12px" font-family="Helvetica, Arial, FreeSans, Liberation Sans, Nimbus Sans L, sans-serif" opacity="1" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-opacity="1" fill-opacity="0" font-weight="normal" font-style="normal">
      <g id="panelvp.1">
        <g id="GRID.xaxis.8">
          <g id="GRID.xaxis.8.major">
            <polyline fill="none" id="GRID.xaxis.8.major.1" points="50.4,50.4 453.6,50.4"/>
          </g>
          <g id="GRID.xaxis.8.ticks">
            <polyline fill="none" id="GRID.xaxis.8.ticks.1" points="50.4,50.4 50.4,43.2"/>
            <polyline fill="none" id="GRID.xaxis.8.ticks.2" points="151.2,50.4 151.2,43.2"/>
            <polyline fill="none" id="GRID.xaxis.8.ticks.3" points="252,50.4 252,43.2"/>
            <polyline fill="none" id="GRID.xaxis.8.ticks.4" points="352.8,50.4 352.8,43.2"/>
            <polyline fill="none" id="GRID.xaxis.8.ticks.5" points="453.6,50.4 453.6,43.2"/>
          </g>
          <g id="GRID.xaxis.8.labels">
            <g transform="translate(50.4, 28.8)" stroke-width="0.1px" id="GRID.xaxis.8.labels.1">
              <g transform="scale(1, -1)">
                <text x="0" y="0" text-anchor="middle" fill="rgb(0,0,0)" fill-opacity="1">
                  <tspan dy="4.31" x="0">0</tspan>
                </text>
              </g>
            </g>
            <g transform="translate(151.2, 28.8)" stroke-width="0.1px" id="GRID.xaxis.8.labels.2">
              <g transform="scale(1, -1)">
                <text x="0" y="0" text-anchor="middle" fill="rgb(0,0,0)" fill-opacity="1">
                  <tspan dy="4.31" x="0">5</tspan>
                </text>
              </g>
            </g>
            <g transform="translate(252, 28.8)" stroke-width="0.1px" id="GRID.xaxis.8.labels.3">
              <g transform="scale(1, -1)">
                <text x="0" y="0" text-anchor="middle" fill="rgb(0,0,0)" fill-opacity="1">
                  <tspan dy="4.31" x="0">10</tspan>
                </text>
              </g>
            </g>
            <g transform="translate(352.8, 28.8)" stroke-width="0.1px" id="GRID.xaxis.8.labels.4">
              <g transform="scale(1, -1)">
                <text x="0" y="0" text-anchor="middle" fill="rgb(0,0,0)" fill-opacity="1">
                  <tspan dy="4.31" x="0">15</tspan>
                </text>
              </g>
            </g>
            <g transform="translate(453.6, 28.8)" stroke-width="0.1px" id="GRID.xaxis.8.labels.5">
              <g transform="scale(1, -1)">
                <text x="0" y="0" text-anchor="middle" fill="rgb(0,0,0)" fill-opacity="1">
                  <tspan dy="4.31" x="0">20</tspan>
                </text>
              </g>
            </g>
          </g>
        </g>
        <g id="GRID.yaxis.9">
          <g id="GRID.yaxis.9.major">
            <polyline fill="none" id="GRID.yaxis.9.major.1" points="50.4,50.4 50.4,453.6"/>
          </g>
          <g id="GRID.yaxis.9.ticks">
            <polyline fill="none" id="GRID.yaxis.9.ticks.1" points="50.4,50.4 43.2,50.4"/>
            <polyline fill="none" id="GRID.yaxis.9.ticks.2" points="50.4,151.2 43.2,151.2"/>
            <polyline fill="none" id="GRID.yaxis.9.ticks.3" points="50.4,252 43.2,252"/>
            <polyline fill="none" id="GRID.yaxis.9.ticks.4" points="50.4,352.8 43.2,352.8"/>
            <polyline fill="none" id="GRID.yaxis.9.ticks.5" points="50.4,453.6 43.2,453.6"/>
          </g>
          <g id="GRID.yaxis.9.labels">
            <g transform="translate(36, 50.4)" stroke-width="0.1px" id="GRID.yaxis.9.labels.1">
              <g transform="scale(1, -1)">
                <text x="0" y="0" text-anchor="end" fill="rgb(0,0,0)" fill-opacity="1">
                  <tspan dy="4.31" x="0">0</tspan>
                </text>
              </g>
            </g>
            <g transform="translate(36, 151.2)" stroke-width="0.1px" id="GRID.yaxis.9.labels.2">
              <g transform="scale(1, -1)">
                <text x="0" y="0" text-anchor="end" fill="rgb(0,0,0)" fill-opacity="1">
                  <tspan dy="4.31" x="0">5</tspan>
                </text>
              </g>
            </g>
            <g transform="translate(36, 252)" stroke-width="0.1px" id="GRID.yaxis.9.labels.3">
              <g transform="scale(1, -1)">
                <text x="0" y="0" text-anchor="end" fill="rgb(0,0,0)" fill-opacity="1">
                  <tspan dy="4.31" x="0">10</tspan>
                </text>
              </g>
            </g>
            <g transform="translate(36, 352.8)" stroke-width="0.1px" id="GRID.yaxis.9.labels.4">
              <g transform="scale(1, -1)">
                <text x="0" y="0" text-anchor="end" fill="rgb(0,0,0)" fill-opacity="1">
                  <tspan dy="4.31" x="0">15</tspan>
                </text>
              </g>
            </g>
            <g transform="translate(36, 453.6)" stroke-width="0.1px" id="GRID.yaxis.9.labels.5">
              <g transform="scale(1, -1)">
                <text x="0" y="0" text-anchor="end" fill="rgb(0,0,0)" fill-opacity="1">
                  <tspan dy="4.31" x="0">20</tspan>
                </text>
              </g>
            </g>
          </g>
        </g>
        <g id="datapoints">
          <defs>
            <symbol id="gridSVG.pch16" viewBox="-5 -5 10 10" overflow="visible">
              <circle cx="0" cy="0" r="3.75"/>
            </symbol>
          </defs>
          <use id="datapoints.1" xlink:href="#gridSVG.pch16" x="282.57" y="176.28" width="8.62" height="8.62" stroke-width="1.16px" fill="rgb(0,0,0)" stroke="none" stroke-opacity="0" fill-opacity="1" transform="translate(-4.31,-4.31)"/>
          <use id="datapoints.2" xlink:href="#gridSVG.pch16" x="336.56" y="159.93" width="8.62" height="8.62" stroke-width="1.16px" fill="rgb(0,0,0)" stroke="none" stroke-opacity="0" fill-opacity="1" transform="translate(-4.31,-4.31)"/>
          <use id="datapoints.3" xlink:href="#gridSVG.pch16" x="341" y="331.39" width="8.62" height="8.62" stroke-width="1.16px" fill="rgb(0,0,0)" stroke="none" stroke-opacity="0" fill-opacity="1" transform="translate(-4.31,-4.31)"/>
          <use id="datapoints.4" xlink:href="#gridSVG.pch16" x="227.71" y="201.93" width="8.62" height="8.62" stroke-width="1.16px" fill="rgb(0,0,0)" stroke="none" stroke-opacity="0" fill-opacity="1" transform="translate(-4.31,-4.31)"/>
          <use id="datapoints.5" xlink:href="#gridSVG.pch16" x="270.14" y="264.23" width="8.62" height="8.62" stroke-width="1.16px" fill="rgb(0,0,0)" stroke="none" stroke-opacity="0" fill-opacity="1" transform="translate(-4.31,-4.31)"/>
          <use id="datapoints.6" xlink:href="#gridSVG.pch16" x="199.04" y="259.99" width="8.62" height="8.62" stroke-width="1.16px" fill="rgb(0,0,0)" stroke="none" stroke-opacity="0" fill-opacity="1" transform="translate(-4.31,-4.31)"/>
          <use id="datapoints.7" xlink:href="#gridSVG.pch16" x="207.43" y="177.39" width="8.62" height="8.62" stroke-width="1.16px" fill="rgb(0,0,0)" stroke="none" stroke-opacity="0" fill-opacity="1" transform="translate(-4.31,-4.31)"/>
          <use id="datapoints.8" xlink:href="#gridSVG.pch16" x="179.95" y="308.35" width="8.62" height="8.62" stroke-width="1.16px" fill="rgb(0,0,0)" stroke="none" stroke-opacity="0" fill-opacity="1" transform="translate(-4.31,-4.31)"/>
          <use id="datapoints.9" xlink:href="#gridSVG.pch16" x="292.92" y="241.21" width="8.62" height="8.62" stroke-width="1.16px" fill="rgb(0,0,0)" stroke="none" stroke-opacity="0" fill-opacity="1" transform="translate(-4.31,-4.31)"/>
          <use id="datapoints.10" xlink:href="#gridSVG.pch16" x="265.2" y="222.79" width="8.62" height="8.62" stroke-width="1.16px" fill="rgb(0,0,0)" stroke="none" stroke-opacity="0" fill-opacity="1" transform="translate(-4.31,-4.31)"/>
        </g>
      </g>
    </g>
  </g>
</svg>
<button id="pointbtn">Click to add point</button> <span class="pars">x = <input id="xval" type="number" min="0" max="20" step="1" value="3"> y = <input id="yval" type="number" min="0", max="20" step="1" value="14"></span>
    </figure>
    <script type="text/javascript" src="pointsPlot.svg.coords.js"></script>
    <script type="text/javascript" src="pointsPlot.svg.convert.js"></script>
    <script type="text/javascript">
        var btn = document.getElementById("pointbtn");
        var addPoint = function() {
            var panel = document.getElementById("panelvp.1");

            // Creating an SVG circle element
            var c;
            var np = document.getElementById("newpoint");
            if (np) {
                c = np;
            } else {
                c = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            }
            
            c.setAttribute("id", "newpoint");
            // Setting some SVG properties relating to the appearance
            // of the circle
            c.setAttribute("stroke", "rgb(255,0,0)");
            c.setAttribute("fill", "rgb(255,0,0)");
            c.setAttribute("fill-opacity", 1);
            
            var xv = document.getElementById("xval").value;
            var yv = document.getElementById("yval").value;

            // Setting the location and radius of our points
            // via the gridSVG conversion functions
            c.setAttribute("cx", viewportConvertX("panelvp.1", xv, "native"));
            c.setAttribute("cy", viewportConvertY("panelvp.1", yv, "native"));
            c.setAttribute("r", viewportConvertWidth("panelvp.1", 2, "mm", "svg"));

            // Adding the point to the same "viewport" as the existing points
            if (! np)
                panel.appendChild(c);
        };

        btn.addEventListener("click", addPoint);
    </script>
  </body>
</html>
